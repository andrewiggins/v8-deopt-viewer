<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>V8 Deopt Webapp Test Page</title>

		<style type="text/css">
			html,
			body,
			#root {
				height: 100%;
			}
		</style>
	</head>

	<body>
		<div id="root"></div>

		<script type="module">
			import { renderIntoDom } from "./src/index.jsx";

			let data;
			if (location.search.includes("error")) {
				await import("./test/deoptInfo.js");
				data = window.V8ErrorData;
			} else if (location.search.toLowerCase().includes("nomaps")) {
				await import("./test/deoptInfoError.js");
				data = window.V8NoMapData;
			} else {
				await import("./test/deoptInfo.js");
				data = window.V8Data;
			}

			renderIntoDom(data, document.getElementById("root"));
		</script>
	</body>
</html>
